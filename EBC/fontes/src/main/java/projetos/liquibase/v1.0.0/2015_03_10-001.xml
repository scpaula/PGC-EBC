<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">


	<changeSet id="001" author="sonia.de.paula">
	
		<createTable tableName="FATEC_PRODUTO">
			<column name="COD" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
			
			<column name="NOME" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="PRECO" type="java.sql.Types.DOUBLE">
			<constraints nullable="false"/>
			</column>
			
			<column name="QUANTIDADE" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
			
			<column name="MARCA" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>	
		</createTable>
		
		<addPrimaryKey constraintName="PK_PRODUTO" tableName="FATEC_PRODUTO" columnNames="COD"/>

	</changeSet>	
	
	<changeSet id="002" author="sonia.de.paula">
	
		<createTable tableName="FATEC_CARGO">
			<column name="COD" type="java.sql.Types.BIGINT" >
			<constraints nullable="false"/>
			</column>
			
			<column name="NOME" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
		</createTable>
		
		<addPrimaryKey constraintName="PK_CARGO" tableName="FATEC_CARGO" columnNames="COD"/>
		
	</changeSet>
	
	<changeSet id="003" author="sonia.de.paula">
		<createTable tableName="FATEC_CLIENTE">
		
			<column name="COD" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
			
			<column name="NOME" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="SOBRENOME" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="EMAIL" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="CPF" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="TEL" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="true"/>
			</column>
			
			<column name="ENDERECO" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="BAIRRO" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="CIDADE" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="ESTADO" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="SENHA" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
		</createTable>
		
		<addPrimaryKey constraintName="PK_CLIENTE" tableName="FATEC_CLIENTE" columnNames="COD"/>
		
	</changeSet>
	
	<changeSet id="004" author="sonia.de.paula">
		<createTable tableName="FATEC_FUNCIONARIO">
		
			<column name="COD" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>

			<column name="NOME" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>

			<column name="CPF" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="false"/>
			</column>
			
			<column name="TEL" type="java.sql.Types.VARCHAR(255)">
			<constraints nullable="true"/>
			</column>
			
			<column name="ID_CARGO" type="java.sql.Types.BIGINT(255)">
				<constraints nullable="false"/>
			</column>
		</createTable>
		
		<addPrimaryKey constraintName="PK_FUNCIONARIO" tableName="FATEC_FUNCIONARIO" columnNames="COD"/>
		
		<addForeignKeyConstraint 
			constraintName="FK_FUNCIONARIO_CARGO" 
			referencedTableName="FATEC_CARGO" 
			baseColumnNames="ID_CARGO" 
			baseTableName="FATEC_FUNCIONARIO" 
			referencedColumnNames="COD"/>
		
	</changeSet>
	
	<changeSet id="006" author="sonia.de.paula">
	
		<createTable tableName="FATEC_PEDIDO">
			<column name="COD" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
			
			<column name="ID_CLIENTE" type="java.sql.Types.BIGINT">
				<constraints nullable="false"/>
			</column>
			
			<column name="ID_FUNCIONARIO" type="java.sql.Types.BIGINT">
				<constraints nullable="false"/>
			</column>
			
			<column name="QUANTIDADE" type="java.sql.Types.BIGINT" >
			<constraints nullable="false"/>
			</column>
			
			<column name="TOTAL" type="java.sql.Types.DOUBLE">
			<constraints nullable="false"/>
			</column>
		</createTable>
		
		<addPrimaryKey constraintName="PK_PEDIDO" tableName="FATEC_PEDIDO" columnNames="COD"/>
		
		<addForeignKeyConstraint constraintName="FK_PEDIDO_CLIENTE" 
		referencedTableName="FATEC_CLIENTE" 
		baseColumnNames="ID_CLIENTE" 
		baseTableName="FATEC_PEDIDO" 
		referencedColumnNames="COD"/>
		
		<addUniqueConstraint constraintName="UC_PEDIDO_CLIENTE" columnNames="ID_CLIENTE" tableName="FATEC_PEDIDO"/>
		
		<addForeignKeyConstraint constraintName="FK_PEDIDO_FUNCIONARIO" 
		referencedTableName="FATEC_FUNCIONARIO" 
		baseColumnNames="ID_FUNCIONARIO" 
		baseTableName="FATEC_PEDIDO" 
		referencedColumnNames="COD"/>
		
		<addUniqueConstraint constraintName="UC_PEDIDO_FUNCIONARIO" columnNames="ID_FUNCIONARIO" tableName="FATEC_PEDIDO"/>
		
	</changeSet>
	
	<changeSet id="005" author="sonia.de.paula">
	
		<createTable tableName="FATEC_ITEM_PEDIDO">
			<column name="COD" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
			
			<column name="ID_PRODUTO" type="java.sql.Types.BIGINT">
				<constraints nullable="false"/>
			</column>
			
			<column name="ID_PEDIDO" type="java.sql.Types.BIGINT">
				<constraints nullable="false"/>
			</column>
			
			<column name="QUANTIDADE" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
			
			<column name="VALOR" type="java.sql.Types.BIGINT">
			<constraints nullable="false"/>
			</column>
		</createTable>
		
		<addPrimaryKey constraintName="PK_ITEM_PEDIDO" tableName="FATEC_ITEM_PEDIDO" columnNames="COD"/>
		
		<addForeignKeyConstraint constraintName="FK_ITEM_PRODUTO" 
		referencedTableName="FATEC_PRODUTO" 
		baseColumnNames="ID_PRODUTO" 
		baseTableName="FATEC_ITEM_PEDIDO" 
		referencedColumnNames="COD"/>
		
		<addUniqueConstraint constraintName="UC_ITEM_PRODUTO" columnNames="ID_PRODUTO" tableName="FATEC_ITEM_PEDIDO"/>
		
		<addForeignKeyConstraint constraintName="FK_ITEM_PEDIDO" 
		referencedTableName="FATEC_PEDIDO" 
		baseColumnNames="ID_PEDIDO" 
		baseTableName="FATEC_ITEM_PEDIDO" 
		referencedColumnNames="COD"/>
		
	</changeSet>
	
	
	
</databaseChangeLog>